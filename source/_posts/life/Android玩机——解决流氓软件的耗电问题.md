---
title: Android玩机——解决流氓软件的耗电问题
date: 2016-11-04 22:40:00
categories: life
tags:
- Android
---

自从从iPhone换回Android以后，每天都在和流氓软件作斗争。源自于iPhone的使用习惯，我喜欢下一大堆软件，使用之后也懒得打开多任务管理杀进程，而是直接按Home键返回桌面。

这样，我的手机电量是飞流直下三千尺。终于在一天外出时，某地图软件在我关屏后依然疯狂耗电，硬是半个小时之内把我的电量从60%耗到30%。这下我终于忍无可忍下定决心要狠制这些流氓。

以下是今天学习的总结。

<!-- more -->

**耗电原因：**

+ 应用长时间运行。某些流氓明明都没它啥事了，它还一个劲的在后台运行。

+ 相互唤醒。流氓软件自己运行也就算了，它还要唤醒一大堆的家族流氓一起来搞事。

+ 滥用唤醒锁、Alarm。Android在系统空闲时会让CPU进入睡眠状态，睡眠状态耗电量极小。而滥用唤醒锁将会导致CPU无法进入睡眠，因此电就掉的很快。Alarm也是Android提供的一种机制，定期唤醒设备做一些操作，但总有一些操蛋的应用一分钟要申请好几十个Alarm。

**大杀器列表：**

1. 绿色守护，老牌软件，配合Android 6.0的休眠体验很棒。能够在保留应用缓存的情况下（下次可以直接恢复到应用之前的状态），阻止应用做一些耗电的任务，比如网络操作等等，因此微信QQ这些通讯类的软件最好不要绿色化。使用也十分简单，把流氓扔进绿色化列表就可以了。**解决长时间运行和部分唤醒**

2. 阻止运行。一大神器，返回键退出应用后杀死应用，6.0也可以退出后休眠应用。阻止列表中的应用不能够被流氓所唤醒。使用方法就是把流氓丢入阻止列表。**解决长时间运行和唤醒**

3. Amplify。自定义限制唤醒锁、Alarm、服务。使用较为复杂，可以参考一下网上的配置，然后在软件尝试禁用唤醒次数较多的唤醒锁。也可以使用`WakeLockDetector`辅助查看各个应用的唤醒时间。**解决唤醒锁和Alarm**

4. 禁止唤醒。作为Amplify的补充，Amplify是一次限制某个唤醒锁/Alarm，而禁止唤醒一次限制整个应用的唤醒锁/Alarm。某些时候禁止唤醒要方便些，比如直接把百度全家桶加入禁止唤醒，而不用在Amplify中一个一个的添加百度桶的每个唤醒锁。**解决唤醒锁和Alarm**
